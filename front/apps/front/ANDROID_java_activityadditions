/* -*-java-*- */
java.text.SimpleDateFormat ln_log_date_formatter = new java.text.SimpleDateFormat("yyyy-MM-dd HH:mm:ss ");

public void ln_log(String msg) {
    System.err.println(ln_log_date_formatter.format(new java.util.Date()) + msg);
}

public void ensureOrbotRunning() {
  if(!OrbotHelper.isOrbotRunning(getApplicationContext())) /* deprecated isOrbotRunning ! */ {
    ln_log("Orbot not running, requesting start");
    if(!OrbotHelper.requestStartTor(getApplicationContext())) {
      OrbotHelper.requestShowOrbotStart(this);
    }
    ln_log("Orbot should be running now.  Continuing.");
  }

  @IF_ANDROIDAPI_GT_22@

  if(OrbotHelper.isOrbotRunning(getApplicationContext())) { // deprecated isOrbotRunning !
    OrbotHelper.requestHiddenServiceOnPort(this, 443);
  }
  // end of IF_ANDROIDAPI_GT_22 */
}

public boolean ln_IsOrbotRunning() {
  return OrbotHelper.isOrbotRunning(getApplicationContext());
}
