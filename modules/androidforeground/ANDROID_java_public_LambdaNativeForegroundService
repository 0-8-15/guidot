/* -*-java-*- */

import android.util.Log;
import android.app.Service;
import android.app.Notification;
import android.app.Notification.Builder;
//import android.support.v4.app.NotificationCompat;
import android.content.Intent;
import android.os.IBinder;
import android.os.SystemClock;

public class LambdaNativeForegroundService extends Service {
  final static int notificationIsRunningId = 1;
  boolean running=true;
  Thread backgroundThread;
  public LambdaNativeForegroundService() {
  }
  @Override
  public IBinder onBind(Intent intent) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void onCreate() {
//    Log.d("","LambdaNativeForegroundService created");
  }
  @Override
  public void onStart(Intent intent, int startId) {
//    Log.d("","LambdaNativeForegroundService starting");

    Notification notification = new Notification.Builder(this)
        .setContentTitle(getString(R.string.app_name))
        // .setContentText("TBD")
        .setSmallIcon(R.drawable.icon)
        // .setLargeIcon(aBitmap)
        .setOngoing(true)
        .build();

    startForeground(notificationIsRunningId, notification);
  }
  @Override public int onStartCommand(Intent intent, int flags, int startId) {
      super.onStartCommand(intent, flags, startId);
      return START_STICKY;
  }
  @Override
  public void onDestroy() {
      //    running=false;
//    Log.d("","LambdaNativeForegroundService stopped");
  }
    // This is bound in the main class only!!!  native void nativeEvent(int t, int x, int y);
}
